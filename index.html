<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BioSolve | Research-Backed Biotechnology Analysis</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f4f7f8;
  padding: 30px;
}
h1 {
  color: #0b5ed7;
}
textarea {
  width: 100%;
  height: 120px;
  font-size: 16px;
  padding: 10px;
}
button {
  margin-top: 15px;
  padding: 12px 25px;
  font-size: 16px;
  background: #0b5ed7;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
button:hover {
  background: #0949a3;
}
.box {
  background: white;
  padding: 20px;
  margin-top: 20px;
  border-radius: 8px;
}
footer {
  margin-top: 40px;
  text-align: center;
  color: gray;
  font-size: 14px;
}
.loading {
  color: #555;
  font-style: italic;
}
</style>
</head>

<body>

<h1>BioSolve</h1>
<p>
A GitHub-based biotechnology & bioethics analysis tool that retrieves
real peer-reviewed research and evaluates problems from scientific,
ethical, and societal perspectives.
</p>

<textarea id="query" placeholder="Example: genetically engineered bacteria for oil spill cleanup ethics"></textarea>
<br>
<button onclick="analyze()">Analyze Responsibly</button>

<div id="output"></div>

<footer>
BioSolve ‚Ä¢ Built using open scientific APIs ‚Ä¢ GitHub Pages
</footer>

<script>
async function analyze() {
  const query = document.getElementById("query").value.trim();
  const output = document.getElementById("output");

  if (!query) {
    alert("Please enter a biotechnology problem.");
    return;
  }

  output.innerHTML = "<p class='loading'>Fetching real research papers and analyzing context‚Ä¶</p>";

  try {
    const apiURL =
      "https://api.semanticscholar.org/graph/v1/paper/search" +
      `?query=${encodeURIComponent(query)}` +
      "&limit=5&fields=title,abstract,year,url";

    const response = await fetch(apiURL);
    const data = await response.json();

    if (!data.data || data.data.length === 0) {
      output.innerHTML = "<p>No research papers found for this query.</p>";
      return;
    }

    let scienceHTML = "";
    let sourcesHTML = "<ul>";

    data.data.forEach(paper => {
      scienceHTML += `
        <p>
          <b>${paper.title}</b> (${paper.year || "N/A"})<br>
          ${paper.abstract || "Abstract not available."}
        </p>
      `;
      sourcesHTML += `
        <li>
          <a href="${paper.url}" target="_blank">${paper.title}</a>
        </li>
      `;
    });

    sourcesHTML += "</ul>";

    // Context-aware ethical + impact framing
    const ethicsText =
      "Ethical evaluation applies the precautionary principle, environmental stewardship, " +
      "intergenerational justice, and responsibility for unintended consequences. " +
      "The acceptability of this biotechnology depends on reversibility, consent, and governance.";

    const impactText =
      "Potential impacts include ecological restoration, biodiversity disturbance, " +
      "public trust in biotechnology, regulatory challenges, and long-term sustainability. " +
      "Outcomes depend on containment strategies, monitoring, and policy oversight.";

    output.innerHTML = `
      <div class="box">
        <h3>üî¨ Scientific Evidence (Peer-Reviewed Research)</h3>
        ${scienceHTML}
      </div>

      <div class="box">
        <h3>‚öñÔ∏è Ethical Perspective</h3>
        <p>${ethicsText}</p>
      </div>

      <div class="box">
        <h3>üåç Societal & Environmental Consequences</h3>
        <p>${impactText}</p>
      </div>

      <div class="box">
        <h3>üìö Research Sources</h3>
        ${sourcesHTML}
        <p style="font-size:13px;color:#555;">
          Sources retrieved via Semantic Scholar Open Research API.
        </p>
      </div>
    `;

  } catch (error) {
    output.innerHTML =
      "<p>Error fetching research. Please try again later.</p>";
  }
}
</script>

</body>
</html>
